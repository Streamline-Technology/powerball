<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Powerball Ticket Checker</title>
  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      margin: 18px;
      background: #f8f9fb;
      color: #111
    }

    h1 {
      margin: 0 0 10px;
      font-size: 20px
    }

    .top {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: 12px
    }

    input[type="text"],
    input[type="number"],
    textarea,
    select {
      font-size: 14px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      padding: 8px 12px;
      border-radius: 6px;
      border: 0;
      background: #2471f3;
      color: #fff;
      cursor: pointer
    }

    button.secondary {
      background: #6b7280
    }

    .tickets {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 12px;
    }

    .ticket {
      border: 1px solid #e1e6ee;
      background: #fff;
      /* padding: 10px; */
      border-radius: 8px;
      margin-bottom: 12px;
      margin-right: 12px;
      display: inline-block;
    }

    .ticket h3 {
      margin: 8px 0 8px 8px;
      font-size: 15px
    }

    table {
      width: auto;
      border-collapse: collapse;
      table-layout: auto;
    }

    th,
    td {
      padding: 6px 8px;
      border-bottom: 1px solid #eee;
      text-align: left;
      font-family: monospace;
      vertical-align: middle;
    }

    th {
      background: #fbfbfd;
      font-weight: 600;
      font-size: 13px
    }

    .num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 4px 6px;
      border-radius: 4px;
      margin-right: 6px;
      background: #f1f5f9;
      min-width: 20px;
      height: 20px;
      text-align: center;
    }

    .num.matched {
      background: #d1fae5;
      color: #065f46;
      font-weight: 700
    }

    .pb {
      font-weight: 700;
      padding: 4px 6px;
      border-radius: 4px;
      background: #fde68a;
      color: #92400e;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 20px;
      height: 20px;
      text-align: center;
    }

    .pb.matched {
      background: #fef3c7;
      border: 2px solid #f59e0b
    }

    .result {
      font-weight: 700
    }

    .match-good {
      color: #065f46
    }

    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center
    }

    .small {
      font-size: 13px;
      color: #6b7280
    }

    .import-area {
      width: 100%;
      height: 120px;
      padding: 8px;
      margin-top: 8px;
      border-radius: 6px;
      border: 1px solid #ddd;
      font-family: monospace
    }

    .row {
      display: flex;
      gap: 8px;
      align-items: center
    }

    .label {
      width: 70px;
      color: #374151
    }

    .add-form {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
      margin-top: 10px
    }

    .hint {
      font-size: 13px;
      color: #556;
      margin-top: 6px
    }

    footer {
      font-size: 13px;
      color: #666;
      margin-top: 16px
    }

    @media(max-width:700px) {
      .label {
        width: 100%
      }

      .add-form {
        flex-direction: column;
        align-items: stretch
      }

      .top {
        flex-direction: column;
        align-items: stretch
      }
    }
  </style>
</head>

<body>
  <h1>Powerball Tickets — Quick Checker</h1>

  <div class="top">
    <div>
      <div class="small">Winning white numbers (5) — comma or space separated</div>
      <input id="winningWhites" type="text" placeholder="e.g. 10, 23, 34, 45, 56" size="26" />
    </div>

    <div>
      <div class="small">Winning Powerball</div>
      <input id="winningPB" type="number" min="1" max="99" placeholder="e.g. 16" />
    </div>

    <div style="display:flex;flex-direction:column;">
      <div>&nbsp;</div>
      <div style="display:flex;gap:8px;">
        <button id="checkBtn">Check Winning Numbers</button>
        <button id="clearMatches" class="secondary">Clear Matches</button>
      </div>
    </div>
  </div>

  <div class="hint">Matched white numbers are highlighted in green. Matched Powerball is highlighted in gold. Add plays
    below (they persist in this browser).</div>

  <div id="ticketsContainer"></div>

  <script>

    const INITIAL_TICKETS = [
      {
        id: "Chris White",
        plays: [
          { label: "A", whites: [1, 4, 6, 18, 34], pb: 22 },
          { label: "B", whites: [8, 30, 45, 46, 54], pb: 1 },
          { label: "C", whites: [12, 17, 20, 21, 43], pb: 8 },
          { label: "D", whites: [4, 37, 38, 41, 66], pb: 24 },
          { label: "E", whites: [5, 18, 20, 39, 54], pb: 15 },
          { label: "F", whites: [19, 22, 41, 62, 67], pb: 12 },
          { label: "G", whites: [13, 14, 16, 19, 27], pb: 22 },
          { label: "H", whites: [33, 43, 45, 52, 67], pb: 22 },
          { label: "I", whites: [25, 26, 35, 52, 64], pb: 15 },
          { label: "J", whites: [1, 11, 26, 44, 62], pb: 24 }
        ]
      },
      {
        id: "Tom James",
        plays: [
          { label: "A", whites: [23,27,52,55,69], pb: 24 },
          { label: "B", whites: [33,48,49,51,65], pb: 9 },
          { label: "C", whites: [6,32,44,55,61], pb: 10 },
          { label: "D", whites: [11,12,17,25,60], pb: 16 },
          { label: "E", whites: [7,19,25,36,37], pb: 23 },
          { label: "F", whites: [2,8,10,32,56], pb: 12 },
          { label: "G", whites: [11,19,41,46,52], pb: 18 },
          { label: "H", whites: [9,21,35,50,53], pb: 15 },
          { label: "I", whites: [7,12,23,57,65], pb: 5 },
          { label: "J", whites: [15,26,55,62,68], pb: 11 }
        ]
      },
      {
        id: "Brian Hinken",
        plays: [
          { label: "A", whites: [28, 34, 39, 44, 63], pb: 1 },
          { label: "B", whites: [7, 9, 28, 41, 46], pb: 3 },
          { label: "C", whites: [1, 28, 43, 49, 66], pb: 6 },
          { label: "D", whites: [1, 5, 10, 24, 44], pb: 12 },
          { label: "E", whites: [9, 14, 24, 49, 54], pb: 19 },
          { label: "A", whites: [12, 29, 33, 60, 62], pb: 21 },
          { label: "B", whites: [1, 26, 28, 56, 65], pb: 13 },
          { label: "C", whites: [4, 23, 31, 34, 62], pb: 23 },
          { label: "D", whites: [11, 34, 38, 39, 45], pb: 24 },
          { label: "E", whites: [11, 25, 29, 39, 52], pb: 2 }
        ]
      },
      {
        id: "Muthu Soundararajan",
        plays: [
          { label: "A", whites: [12,20,30,59,65], pb: 3 },
          { label: "B", whites: [15,19,29,37,61], pb: 22 },
          { label: "C", whites: [2,16,29,45,46], pb: 12 },
          { label: "D", whites: [10,33,40,46,63], pb: 1 },
          { label: "E", whites: [24,25,36,41,50], pb: 1 },
          { label: "A", whites: [7,13,15,20,23], pb: 9 },
          { label: "B", whites: [24,30,32,57,65], pb: 21 },
          { label: "C", whites: [6,18,40,41,42], pb: 21 },
          { label: "D", whites: [20,33,39,40,46], pb: 11 },
          { label: "E", whites: [2,11,14,32,38], pb: 5 }
        ]
      },
      {
        id: "Henry Erich III",
        plays: [
          { label: "A", whites: [41,50,52,54,66], pb: 5 },
          { label: "B", whites: [23,24,38,45,50], pb: 6 },
          { label: "C", whites: [31,37,38,50,64], pb: 2 },
          { label: "D", whites: [6,22,34,36,57], pb: 25 },
          { label: "E", whites: [24,29,38,56,63], pb: 11 },
          { label: "F", whites: [2,15,44,45,49], pb: 18 },
          { label: "G", whites: [18,24,26,35,49], pb: 5 },
          { label: "H", whites: [9,27,40,52,63], pb: 21 },
          { label: "I", whites: [11,28,33,40,69], pb: 6 },
          { label: "J", whites: [3,26,33,42,67], pb: 26 }
        ]
      },
      {
        id: "Matthew Scherer",
        plays: [
          { label: "A", whites: [4,13,21,48,66], pb: 12 },
          { label: "B", whites: [13,32,35,36,41], pb: 21 },
          { label: "C", whites: [2,17,23,46,68], pb: 9 },
          { label: "D", whites: [2,13,50,55,69], pb: 5 },
          { label: "E", whites: [26,39,41,48,58], pb: 18 },
          { label: "F", whites: [2,25,30,44,51], pb: 22 },
          { label: "G", whites: [5,21,29,35,68], pb: 15 },
          { label: "H", whites: [11,16,34,53,58], pb: 3 },
          { label: "I", whites: [9,13,15,24,56], pb: 15 },
          { label: "J", whites: [28,40,41,47,63], pb: 12 }
        ]
      },
      {
        id: "Scott Johnson",
        plays: [
          { label: "A", whites: [], pb: null },
          { label: "B", whites: [], pb: null },
          { label: "C", whites: [], pb: null },
          { label: "D", whites: [], pb: null },
          { label: "E", whites: [], pb: null },
          { label: "F", whites: [], pb: null },
          { label: "G", whites: [], pb: null },
          { label: "H", whites: [], pb: null },
          { label: "I", whites: [], pb: null },
          { label: "J", whites: [], pb: null }
        ]
      }
    ];

    /* helper to render */
    let tickets = INITIAL_TICKETS;
    const container = document.getElementById('ticketsContainer');
    let matchedWhites = [];

    function renderTickets() {
      container.innerHTML = '';
      tickets.forEach((t, ti) => {
        const div = document.createElement('div');
        div.className = 'ticket';
        const h = document.createElement('h3');
        h.textContent = `Ticket ${ti + 1} — ${t.id || '(no id)'}`;
        div.appendChild(h);

        const table = document.createElement('table');
        const thead = document.createElement('thead');
        thead.innerHTML = '<tr><th style="width:120px">Label</th><th>Whites</th><th style="width:90px">Powerball</th><th style="width:160px">White matches</th><th style="width:120px">PB match</th><th style="width:120px">Result</th></tr>';
        table.appendChild(thead);
        const tbody = document.createElement('tbody');
        t.plays.forEach((p, pi) => {
          const tr = document.createElement('tr');
          const tdLabel = document.createElement('td');
          tdLabel.textContent = p.label;
          tr.appendChild(tdLabel);

          const tdWhites = document.createElement('td');
          // Always show 5 boxes for whites
          for (let i = 0; i < 5; i++) {
            const span = document.createElement('span');
            const w = p.whites[i];
            span.className = 'num' + (w !== undefined && matchedWhites.includes(w) ? ' matched' : '');
            span.textContent = w !== undefined ? String(w) : '\u00A0';
            tdWhites.appendChild(span);
          }
          tr.appendChild(tdWhites);

          const tdPB = document.createElement('td');
          const pbspan = document.createElement('span');
          pbspan.className = 'pb';
          pbspan.textContent = (p.pb === null || p.pb === undefined) ? '\u00A0' : p.pb;
          tdPB.appendChild(pbspan);
          tr.appendChild(tdPB);

          const tdWhiteMatches = document.createElement('td');
          tdWhiteMatches.className = 'small';
          tdWhiteMatches.textContent = '-';
          tr.appendChild(tdWhiteMatches);

          const tdPBMatch = document.createElement('td');
          tdPBMatch.className = 'small';
          tdPBMatch.textContent = '-';
          tr.appendChild(tdPBMatch);

          const tdResult = document.createElement('td');
          tdResult.className = 'result';
          tdResult.textContent = '';
          tr.appendChild(tdResult);

          tbody.appendChild(tr);
        });
        table.appendChild(tbody);
        div.appendChild(table);

        container.appendChild(div);
      });
    }

    /* utilities */
    function parseNumbersList(str) {
      if (!str) return [];
      return str.split(/[, ]+/).map(s => s.trim()).filter(Boolean).map(n => parseInt(n, 10)).filter(n => !isNaN(n));
    }
    function uniqueSorted(arr) {
      return Array.from(new Set(arr)).sort((a, b) => a - b);
    }

    /* Checking logic */
    function checkAll() {
      const whiteInput = document.getElementById('winningWhites').value.trim();
      const pbInput = document.getElementById('winningPB').value.trim();
      const whites = uniqueSorted(parseNumbersList(whiteInput)).slice(0, 5);
      const pb = pbInput === '' ? null : parseInt(pbInput, 10);

      if (whites.length !== 5 || whites.some(n => isNaN(n))) {
        alert('Please enter exactly 5 winning white numbers (comma or space separated).');
        return;
      }
      if (pb === null || isNaN(pb)) {
        alert('Please enter a winning Powerball number.');
        return;
      }

      // for each row in the rendered table, compute matches
      const allTables = container.querySelectorAll('table');
      tickets.forEach((t, ti) => {
        const tbody = allTables[ti].querySelector('tbody');
        t.plays.forEach((p, pi) => {
          const tr = tbody.rows[pi];
          // compute white matches (intersection)
          const pSet = new Set(p.whites.map(Number));
          const matchedWhites = whites.filter(w => pSet.has(w));
          const matchedCount = matchedWhites.length;
          // pb match
          const pbMatch = (p.pb !== null && p.pb !== undefined && Number(p.pb) === pb);

          // update whites cell — highlight matched numbers
          const whitesCell = tr.cells[1];
          // rebuild spans - always 5 boxes
          whitesCell.innerHTML = '';
          for (let i = 0; i < 5; i++) {
            const span = document.createElement('span');
            const w = p.whites[i];
            span.className = 'num' + (w !== undefined && matchedWhites.includes(w) ? ' matched' : '');
            span.textContent = w !== undefined ? String(w) : '';
            whitesCell.appendChild(span);
          }

          // update pb cell highlight
          const pbCell = tr.cells[2];
          const pbspan = pbCell.querySelector('.pb');
          if (pbspan) {
            pbspan.className = 'pb' + (pbMatch ? ' matched' : '');
          }

          // white matches text
          tr.cells[3].innerHTML = (matchedCount > 0 ? `${matchedCount} (${matchedWhites.join(', ')})` : '0');

          // pb match
          tr.cells[4].innerHTML = pbMatch ? 'YES' : 'no';

          // result summarised
          let summary = `${matchedCount} white${matchedCount === 1 ? '' : 's'}`;
          summary += pbMatch ? ' + PB' : '';
          tr.cells[5].textContent = summary;
          tr.className = ((matchedCount >= 3) || pbMatch) ? 'match-good' : '';
        });
      });

    }

    /* Clear matches view */
    function clearMatches() {
      const allTables = container.querySelectorAll('table');
      allTables.forEach(tbl => {
        const tbody = tbl.querySelector('tbody');
        for (let r = 0; r < tbody.rows.length; r++) {
          const tr = tbody.rows[r];
          // remove matched classname on number spans
          const whitesCell = tr.cells[1];
          const spans = whitesCell.querySelectorAll('.num');
          spans.forEach(s => s.classList.remove('matched'));
          const pbspan = tr.cells[2].querySelector('.pb');
          if (pbspan) pbspan.classList.remove('matched');
          tr.cells[3].textContent = '-';
          tr.cells[4].textContent = '-';
          tr.cells[5].textContent = '';
          tr.className = '';
        }
      });
    }

    /* UI wiring */
    document.getElementById('checkBtn').addEventListener('click', checkAll);
    document.getElementById('clearMatches').addEventListener('click', () => { clearMatches(); });

    renderTickets();
  </script>
</body>

</html>