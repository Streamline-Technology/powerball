<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Powerball Ticket Checker</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:18px;background:#f8f9fb;color:#111}
  h1{margin:0 0 10px;font-size:20px}
  .top{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
  input[type="text"], input[type="number"], textarea, select {
    font-size:14px;padding:8px;border:1px solid #ccc;border-radius:6px;
  }
  button{padding:8px 12px;border-radius:6px;border:0;background:#2471f3;color:#fff;cursor:pointer}
  button.secondary{background:#6b7280}
  .tickets{margin-top:16px}
  .ticket{border:1px solid #e1e6ee;background:#fff;padding:10px;border-radius:8px;margin-bottom:12px}
  .ticket h3{margin:0 0 8px;font-size:15px}
  table{width:100%;border-collapse:collapse}
  th,td{padding:6px 8px;border-bottom:1px solid #eee;text-align:left;font-family:monospace}
  th{background:#fbfbfd;font-weight:600;font-size:13px}
  .num{display:inline-block;padding:4px 6px;border-radius:4px;margin-right:6px;background:#f1f5f9}
  .num.matched{background:#d1fae5;color:#065f46;font-weight:700}
  .pb{font-weight:700;padding:4px 6px;border-radius:4px;background:#fde68a;color:#92400e}
  .pb.matched{background:#fef3c7;border:2px solid #f59e0b}
  .result{font-weight:700}
  .match-good{color:#065f46}
  .controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .small{font-size:13px;color:#6b7280}
  .import-area{width:100%;height:120px;padding:8px;margin-top:8px;border-radius:6px;border:1px solid #ddd;font-family:monospace}
  .row{display:flex;gap:8px;align-items:center}
  .label{width:70px;color:#374151}
  .add-form{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:10px}
  .hint{font-size:13px;color:#556; margin-top:6px}
  footer{font-size:13px;color:#666;margin-top:16px}
  @media(max-width:700px){ .label{width:100%} .add-form{flex-direction:column;align-items:stretch} .top{flex-direction:column;align-items:stretch} }
</style>
</head>
<body>
  <h1>Powerball Tickets — Quick Checker</h1>

  <div class="top">
    <div>
      <div class="small">Winning white numbers (5) — comma or space separated</div>
      <input id="winningWhites" type="text" placeholder="e.g. 10, 23, 34, 45, 56" size="26" />
    </div>

    <div>
      <div class="small">Winning Powerball</div>
      <input id="winningPB" type="number" min="1" max="99" placeholder="e.g. 16" />
    </div>

    <div style="display:flex;flex-direction:column;">
      <div>&nbsp;</div>
      <div style="display:flex;gap:8px;">
        <button id="checkBtn">Check Winning Numbers</button>
        <button id="clearMatches" class="secondary">Clear Matches</button>
      </div>
    </div>
  </div>

  <div class="hint">Matched white numbers are highlighted in green. Matched Powerball is highlighted in gold. Add plays below (they persist in this browser).</div>

  <div class="ticket" id="ticketsContainer"></div>

  <div class="ticket">
    <h3>Add a new play (easy to add more tickets)</h3>
    <div class="add-form">
      <div style="min-width:220px">
        <div class="small">Ticket ID (message link or name)</div>
        <input id="addTicketId" type="text" placeholder="e.g. https://teams.../1766429202766" style="width:100%" />
      </div>

      <div style="width:70px">
        <div class="small">Label</div>
        <input id="addLabel" type="text" placeholder="A" />
      </div>

      <div style="min-width:220px">
        <div class="small">White numbers (5) comma/space</div>
        <input id="addWhites" type="text" placeholder="e.g. 7,9,15,44,49" style="width:100%" />
      </div>

      <div style="width:90px">
        <div class="small">Powerball</div>
        <input id="addPB" type="number" min="1" max="99" placeholder="16" />
      </div>

      <div>
        <div style="height:24px"></div>
        <button id="addPlayBtn">Add Play</button>
      </div>
    </div>
    <div class="hint">Tip: to add multiple plays for the same ticket, repeat with the same Ticket ID.</div>
  </div>

  <div class="ticket">
    <h3>Import / Export Tickets (JSON)</h3>
    <textarea id="importExport" class="import-area" placeholder="Paste JSON here to import, or press Export to copy current tickets as JSON"></textarea>
    <div style="margin-top:8px">
      <button id="importBtn" class="secondary">Import JSON</button>
      <button id="exportBtn">Export JSON</button>
      <button id="resetBtn" class="secondary">Reset to initial tickets</button>
    </div>
    <div class="hint">JSON structure: an array of tickets: [{ id: 'ticketId', plays: [{label:'A', whites:[..], pb:16}, ...] }, ... ]</div>
  </div>

  <footer>Created for quick checking — numbers are stored locally only.</footer>

<script>
/* Initial tickets (from your four message links). Numbers are integers. */
const INITIAL_TICKETS = [
  {
    id: "Scott Johnson",
    plays: [
      { label:"A", whites:[38,42,46,56,63], pb:16 },
      { label:"B", whites:[10,12,14,32,52], pb:1 },
      { label:"C", whites:[7,25,36,44,49], pb:16 },
      { label:"D", whites:[26,39,41,49,67], pb:13 },
      { label:"E", whites:[1,11,33,43,53], pb:23 },
      { label:"F", whites:[1,3,43,44,62], pb:24 },
      { label:"G", whites:[17,29,41,53,57], pb:26 },
      { label:"H", whites:[4,19,61,67,68], pb:1 },     // corrected
      { label:"I", whites:[3,17,24,38,65], pb:11 },    // corrected
      { label:"J", whites:[13,19,40,45,59], pb:15 }
    ]
  },
  {
    id: "Matthew Scherer",
    plays: [
      { label:"A", whites:[15,23,28,33,58], pb:2 },
      { label:"B", whites:[3,35,61,65,69], pb:11 },
      { label:"C", whites:[1,20,26,48,66], pb:3 },
      { label:"D", whites:[13,21,34,43,48], pb:26 },
      { label:"E", whites:[16,19,22,49,65], pb:21 },
      { label:"F", whites:[39,44,56,57,59], pb:18 },
      { label:"G", whites:[5,8,11,41,57], pb:12 },
      { label:"H", whites:[35,44,58,67,68], pb:25 },
      { label:"I", whites:[14,24,29,66,69], pb:6 },
      { label:"J", whites:[3,17,19,41,58], pb:14 }
    ]
  },
  {
    id: "Henry Erich III",
    plays: [
      { label:"A", whites:[7,39,54,58,68], pb:17 },
      { label:"B", whites:[17,20,48,57,65], pb:19 },
      { label:"C", whites:[13,20,24,34,58], pb:12 },
      { label:"D", whites:[13,37,50,54,58], pb:25 },
      { label:"E", whites:[1,11,12,15,27], pb:20 },
      { label:"F", whites:[5,13,48,55,61], pb:3 },
      { label:"G", whites:[26,29,30,60,67], pb:8 },
      { label:"H", whites:[26,40,51,56,62], pb:18 },
      { label:"I", whites:[7,32,34,54,57], pb:2 },
      { label:"J", whites:[7,17,27,34,66], pb:13 }
    ]
  },
  {
    id: "Tom James",
    plays: [
      { label:"A", whites:[7,9,15,44,49], pb:16 },
      { label:"B", whites:[37,45,54,59,68], pb:4 },
      { label:"C", whites:[8,24,27,45,54], pb:13 },
      { label:"D", whites:[18,33,42,46,48], pb:4 },
      { label:"E", whites:[1,7,33,50,53], pb:1 },
      { label:"F", whites:[11,26,29,31,46], pb:24 },
      { label:"G", whites:[1,10,20,24,66], pb:12 },
      { label:"H", whites:[19,26,60,63,66], pb:18 },
      { label:"I", whites:[2,12,18,46,47], pb:3 },
      { label:"J", whites:[5,31,36,40,61], pb:14 }
    ]
  },
  {
    id: "Brian Hinken",
    plays: [
      { label:"A", whites:[8,15,17,42,58], pb:9 },
      { label:"B", whites:[4,28,39,41,55], pb:7 },
      { label:"C", whites:[10,26,35,42,50], pb:1 },
      { label:"D", whites:[19,23,42,44,67], pb:3 },
      { label:"E", whites:[13,27,29,62,67], pb:5 },
      { label:"A", whites:[15,19,40,46,49], pb:20 },
      { label:"B", whites:[26,44,61,63,66], pb:19 },
      { label:"C", whites:[4,24,27,32,64], pb:12 },
      { label:"D", whites:[4,11,45,56,64], pb:11 },
      { label:"E", whites:[16,19,32,37,46], pb:26 }
    ]
  },
  {
    id: "Chris White",
    plays: [
      { label:"A", whites:[8,9,12,34,46], pb:26 },
      { label:"B", whites:[2,12,20,55,67], pb:10 },
      { label:"C", whites:[7,10,37,39,53], pb:3 },
      { label:"D", whites:[1,2,10,66,69], pb:1 },
      { label:"E", whites:[16,21,51,52,64], pb:22 },
      { label:"A", whites:[17,19,26,38,64], pb:9 },
      { label:"B", whites:[19,38,56,62,65], pb:15 },
      { label:"C", whites:[9,23,35,42,54], pb:26},
      { label:"D", whites:[2,21,26,37,61], pb:5 },
      { label:"E", whites:[35,37,44,61,65], pb:11 }
    ]
  },
  {
    id: "Muthu",
    plays: [
      { label:"A", whites:[], pb: },
      { label:"B", whites:[], pb: },
      { label:"C", whites:[], pb: },
      { label:"D", whites:[], pb: },
      { label:"E", whites:[], pb: },
      { label:"A", whites:[], pb: },
      { label:"B", whites:[], pb: },
      { label:"C", whites:[], pb: },
      { label:"D", whites:[], pb: },
      { label:"E", whites:[], pb: }
    ]
  }
];

/* load from localStorage or initial */
function loadTickets(){
  const s = localStorage.getItem('powerball_tickets_v1');
  if(!s) return JSON.parse(JSON.stringify(INITIAL_TICKETS));
  try{
    return JSON.parse(s);
  }catch(e){
    return JSON.parse(JSON.stringify(INITIAL_TICKETS));
  }
}
function saveTickets(tickets){
  localStorage.setItem('powerball_tickets_v1', JSON.stringify(tickets));
}

/* helper to render */
let tickets = loadTickets();
const container = document.getElementById('ticketsContainer');

function renderTickets(){
  container.innerHTML = '';
  tickets.forEach((t, ti) => {
    const div = document.createElement('div');
    div.className = 'ticket';
    const h = document.createElement('h3');
    h.textContent = `Ticket ${ti+1} — ${t.id || '(no id)'}`;
    div.appendChild(h);

    const table = document.createElement('table');
    const thead = document.createElement('thead');
    thead.innerHTML = '<tr><th style="width:120px">Label</th><th>Whites</th><th style="width:90px">Powerball</th><th style="width:160px">White matches</th><th style="width:120px">PB match</th><th style="width:120px">Result</th></tr>';
    table.appendChild(thead);
    const tbody = document.createElement('tbody');
    t.plays.forEach((p, pi) => {
      const tr = document.createElement('tr');
      const tdLabel = document.createElement('td');
      tdLabel.textContent = p.label;
      tr.appendChild(tdLabel);

      const tdWhites = document.createElement('td');
      // show whites as spans
      p.whites.forEach(w => {
        const span = document.createElement('span');
        span.className = 'num';
        span.textContent = String(w).padStart(2,'0');
        tdWhites.appendChild(span);
      });
      tr.appendChild(tdWhites);

      const tdPB = document.createElement('td');
      const pbspan = document.createElement('span');
      pbspan.className = 'pb';
      pbspan.textContent = p.pb;
      tdPB.appendChild(pbspan);
      tr.appendChild(tdPB);

      const tdWhiteMatches = document.createElement('td');
      tdWhiteMatches.className = 'small';
      tdWhiteMatches.textContent = '-';
      tr.appendChild(tdWhiteMatches);

      const tdPBMatch = document.createElement('td');
      tdPBMatch.className = 'small';
      tdPBMatch.textContent = '-';
      tr.appendChild(tdPBMatch);

      const tdResult = document.createElement('td');
      tdResult.className = 'result';
      tdResult.textContent = '';
      tr.appendChild(tdResult);

      tbody.appendChild(tr);
    });
    table.appendChild(tbody);
    div.appendChild(table);

    // small actions to the ticket
    const actions = document.createElement('div');
    actions.style.marginTop='8px';
    actions.innerHTML = `<button data-ticket="${ti}" class="exportTicketBtn secondary">Export ticket JSON</button> <button data-ticket="${ti}" class="deleteTicketBtn secondary">Delete ticket</button> <button data-ticket="${ti}" class="clearTicketBtn secondary">Clear plays</button>`;
    div.appendChild(actions);

    container.appendChild(div);
  });

  // attach handlers for per-ticket buttons
  document.querySelectorAll('.deleteTicketBtn').forEach(btn=>{
    btn.onclick = (e) => {
      const idx = Number(e.target.dataset.ticket);
      if(!confirm('Delete entire ticket?')) return;
      tickets.splice(idx,1);
      saveTickets(tickets); renderTickets();
    };
  });
  document.querySelectorAll('.clearTicketBtn').forEach(btn=>{
    btn.onclick = (e) => {
      const idx = Number(e.target.dataset.ticket);
      if(!confirm('Remove all plays from this ticket?')) return;
      tickets[idx].plays = [];
      saveTickets(tickets); renderTickets();
    };
  });
  document.querySelectorAll('.exportTicketBtn').forEach(btn=>{
    btn.onclick = (e) => {
      const idx = Number(e.target.dataset.ticket);
      const txt = JSON.stringify(tickets[idx], null, 2);
      document.getElementById('importExport').value = txt;
      alert('Ticket JSON placed in the Import / Export box below.');
    };
  });
}

/* utilities */
function parseNumbersList(str){
  if(!str) return [];
  return str.split(/[, ]+/).map(s=>s.trim()).filter(Boolean).map(n=>parseInt(n,10)).filter(n=>!isNaN(n));
}
function uniqueSorted(arr){
  return Array.from(new Set(arr)).sort((a,b)=>a-b);
}

/* Checking logic */
function checkAll(){
  const whiteInput = document.getElementById('winningWhites').value.trim();
  const pbInput = document.getElementById('winningPB').value.trim();
  const whites = uniqueSorted(parseNumbersList(whiteInput)).slice(0,5);
  const pb = pbInput === '' ? null : parseInt(pbInput,10);

  if(whites.length !== 5 || whites.some(n=>isNaN(n))){
    alert('Please enter exactly 5 winning white numbers (comma or space separated).');
    return;
  }
  if(pb === null || isNaN(pb)){
    alert('Please enter a winning Powerball number.');
    return;
  }

  // for each row in the rendered table, compute matches
  const allTables = container.querySelectorAll('table');
  tickets.forEach((t, ti) => {
    const tbody = allTables[ti].querySelector('tbody');
    t.plays.forEach((p, pi) => {
      const tr = tbody.rows[pi];
      // compute white matches (intersection)
      const pSet = new Set(p.whites.map(Number));
      const matchedWhites = whites.filter(w => pSet.has(w));
      const matchedCount = matchedWhites.length;
      // pb match
      const pbMatch = (Number(p.pb) === pb);

      // update whites cell — highlight matched numbers
      const whitesCell = tr.cells[1];
      // rebuild spans
      whitesCell.innerHTML = '';
      p.whites.forEach(w => {
        const span = document.createElement('span');
        span.className = 'num' + (matchedWhites.includes(w) ? ' matched' : '');
        span.textContent = String(w).padStart(2,'0');
        whitesCell.appendChild(span);
      });

      // update pb cell highlight
      const pbCell = tr.cells[2];
      const pbspan = pbCell.querySelector('.pb');
      if(pbspan){
        pbspan.className = 'pb' + (pbMatch ? ' matched' : '');
      }

      // white matches text
      tr.cells[3].innerHTML = (matchedCount>0 ? `${matchedCount} (${matchedWhites.join(', ')})` : '0');

      // pb match
      tr.cells[4].innerHTML = pbMatch ? 'YES' : 'no';

      // result summarised
      let summary = `${matchedCount} white${matchedCount===1?'':'s'}`;
      summary += pbMatch ? ' + PB' : '';
      tr.cells[5].textContent = summary;
      tr.className = ( (matchedCount >= 3) || pbMatch ) ? 'match-good' : '';
    });
  });

}

/* Clear matches view */
function clearMatches(){
  const allTables = container.querySelectorAll('table');
  allTables.forEach(tbl=>{
    const tbody = tbl.querySelector('tbody');
    for(let r=0;r<tbody.rows.length;r++){
      const tr = tbody.rows[r];
      // remove matched classname on number spans
      const whitesCell = tr.cells[1];
      const spans = whitesCell.querySelectorAll('.num');
      spans.forEach(s=> s.classList.remove('matched'));
      const pbspan = tr.cells[2].querySelector('.pb');
      if(pbspan) pbspan.classList.remove('matched');
      tr.cells[3].textContent = '-';
      tr.cells[4].textContent = '-';
      tr.cells[5].textContent = '';
      tr.className = '';
    }
  });
}

/* Add play */
function addPlayFromForm(){
  const tid = document.getElementById('addTicketId').value.trim() || 'Unnamed ticket';
  const label = document.getElementById('addLabel').value.trim() || 'A';
  const whitesStr = document.getElementById('addWhites').value.trim();
  const pb = parseInt(document.getElementById('addPB').value,10);
  const whites = parseNumbersList(whitesStr);
  if(whites.length !== 5 || whites.some(n=>isNaN(n))){
    alert('Please enter exactly 5 white numbers for the new play.');
    return;
  }
  if(isNaN(pb)){
    alert('Please enter a Powerball number for the new play.');
    return;
  }
  // find ticket, or create
  let t = tickets.find(x => x.id === tid);
  if(!t){
    t = { id: tid, plays: [] };
    tickets.push(t);
  }
  t.plays.push({ label: label, whites: whites, pb: pb });
  saveTickets(tickets);
  renderTickets();
  clearAddForm();
}

/* helpers: export/import */
function exportJSON(){
  document.getElementById('importExport').value = JSON.stringify(tickets, null, 2);
}
function importJSON(){
  const txt = document.getElementById('importExport').value.trim();
  if(!txt){
    alert('Paste JSON into the box first.');
    return;
  }
  try{
    const parsed = JSON.parse(txt);
    if(!Array.isArray(parsed)) throw new Error('Expected an array of tickets.');
    tickets = parsed;
    saveTickets(tickets);
    renderTickets();
    alert('Imported successfully.');
  }catch(e){
    alert('Import failed: ' + e.message);
  }
}
function resetInitial(){
  if(!confirm('Reset to the initial provided tickets (this will overwrite local changes)?')) return;
  tickets = JSON.parse(JSON.stringify(INITIAL_TICKETS));
  saveTickets(tickets);
  renderTickets();
  document.getElementById('importExport').value = '';
}

/* UI wiring */
document.getElementById('checkBtn').addEventListener('click', checkAll);
document.getElementById('clearMatches').addEventListener('click', () => { clearMatches(); });
document.getElementById('addPlayBtn').addEventListener('click', addPlayFromForm);
document.getElementById('exportBtn').addEventListener('click', exportJSON);
document.getElementById('importBtn').addEventListener('click', importJSON);
document.getElementById('resetBtn').addEventListener('click', resetInitial);

function clearAddForm(){
  document.getElementById('addLabel').value = '';
  document.getElementById('addWhites').value = '';
  document.getElementById('addPB').value = '';
}

/* initial render */
renderTickets();

/* attempt to pre-fill sample winning numbers if you want (comment out if not) */
// document.getElementById('winningWhites').value = '7, 9, 15, 44, 49'; document.getElementById('winningPB').value = '16';

</script>
</body>
</html>


